{"ast":null,"code":"var _jsxFileName = \"C:\\\\2024-07-JAVA-DEVELOPER\\\\workspace-spring-tool-suite-4-4.24.0.RELEASE\\\\final-project-team2\\\\TeamProject3-MentoringSite\\\\src\\\\main\\\\resources\\\\static\\\\react-grew\\\\src\\\\component\\\\AnswerInquiry\\\\AnswerItem.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport \"../../css/styles.css\";\nimport * as answerApi from \"../../api/answerApi\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function AnswerItem({\n  answer\n}) {\n  _s();\n  const [voteCount, setVoteCount] = useState(null);\n  async function fetchData() {\n    try {\n      // 비동기 호출\n      const responseJsonObject = await answerApi.countVote(answer.answerNo);\n      setVoteCount(responseJsonObject.data);\n    } catch (error) {\n      console.error(\"오류 발생:\", error);\n    }\n  }\n  useEffect(() => {\n    fetchData();\n  }, []);\n  const handleUpvote = async () => {\n    try {\n      const response = await answerApi.upVote(answer.answerNo, 1); // API 호출\n      if (response.status === 6000) {\n        fetchData(); // 추천 성공 상태 확인\n      } else {\n        alert('이미 추천 혹은 비추천을 누르셨습니다'); // 실패 시 에러 로그\n      }\n    } catch (error) {\n      console.error('API 호출 중 오류 발생:', error.response ? error.response.data : error); // 오류 로그\n      alert('API 호출 중 오류 발생: ' + error.message); // 사용자에게 오류 메시지 표시\n    }\n  };\n  const handleDownvote = async () => {\n    try {\n      const response = await answerApi.downVote(answer.answerNo, 1); // API 호출\n      if (response.status === 6000) {\n        fetchData(); // 추천 성공 상태 확인\n      } else {\n        alert('이미 추천 혹은 비추천을 누르셨습니다'); // 실패 시 에러 로그\n      }\n    } catch (error) {\n      console.error('API 호출 중 오류 발생:', error); // 오류 처리\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"answer-member\",\n      children: answer.memberName\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"answer-content\",\n      children: answer.answerContent\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"answer-date\",\n      children: answer.answerDate.substring(0, 10)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleUpvote,\n      children: \"\\uCD94\\uCC9C\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: voteCount\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleDownvote,\n      children: \"\\uBE44\\uCD94\\uCC9C\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n}\n_s(AnswerItem, \"rYmDLP5QumcLxBIeMeSfDF161ko=\");\n_c = AnswerItem;\nvar _c;\n$RefreshReg$(_c, \"AnswerItem\");","map":{"version":3,"names":["React","useEffect","useState","answerApi","jsxDEV","_jsxDEV","Fragment","_Fragment","AnswerItem","answer","_s","voteCount","setVoteCount","fetchData","responseJsonObject","countVote","answerNo","data","error","console","handleUpvote","response","upVote","status","alert","message","handleDownvote","downVote","children","className","memberName","fileName","_jsxFileName","lineNumber","columnNumber","answerContent","answerDate","substring","onClick","_c","$RefreshReg$"],"sources":["C:/2024-07-JAVA-DEVELOPER/workspace-spring-tool-suite-4-4.24.0.RELEASE/final-project-team2/TeamProject3-MentoringSite/src/main/resources/static/react-grew/src/component/AnswerInquiry/AnswerItem.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport \"../../css/styles.css\";\r\nimport * as answerApi from \"../../api/answerApi\";\r\nexport default function AnswerItem({ answer }) {\r\n    const [voteCount, setVoteCount] = useState(null);\r\n    async function fetchData() {\r\n      try {\r\n        // 비동기 호출\r\n        const responseJsonObject = await answerApi.countVote(answer.answerNo);\r\n        setVoteCount(responseJsonObject.data);\r\n      } catch (error) {\r\n        console.error(\"오류 발생:\", error);\r\n      }\r\n    }\r\n    useEffect(() => {\r\n      fetchData();\r\n    }, []);\r\n\r\n    const handleUpvote = async () => {\r\n      try {\r\n        const response = await answerApi.upVote(answer.answerNo,1);  // API 호출\r\n        if (response.status === 6000) { \r\n          fetchData(); // 추천 성공 상태 확인\r\n        } else {\r\n          alert('이미 추천 혹은 비추천을 누르셨습니다');  // 실패 시 에러 로그\r\n        }\r\n      } catch (error) {\r\n        console.error('API 호출 중 오류 발생:', error.response ? error.response.data : error);  // 오류 로그\r\n    alert('API 호출 중 오류 발생: ' + error.message);  // 사용자에게 오류 메시지 표시\r\n      }\r\n    };\r\n    const handleDownvote = async () => {\r\n      try {\r\n        const response = await answerApi.downVote(answer.answerNo,1);  // API 호출\r\n        if (response.status === 6000) {\r\n          fetchData();  // 추천 성공 상태 확인\r\n        } else {\r\n          alert('이미 추천 혹은 비추천을 누르셨습니다');  // 실패 시 에러 로그\r\n        }\r\n      } catch (error) {\r\n        console.error('API 호출 중 오류 발생:', error);  // 오류 처리\r\n      }\r\n    };\r\n    return (\r\n      <>\r\n        <div className=\"answer-member\">{answer.memberName}</div>\r\n        <div className=\"answer-content\">{answer.answerContent}</div>\r\n        <div className=\"answer-date\">{answer.answerDate.substring(0, 10)}</div>\r\n        <button onClick={handleUpvote}>추천\r\n        </button>\r\n        <div>\r\n\r\n           {voteCount}   \r\n        </div>\r\n        <button onClick={handleDownvote}>비추천\r\n        </button>\r\n      </>\r\n    );\r\n  }\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}